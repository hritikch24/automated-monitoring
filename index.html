<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AKS AI Monitoring Flow with Claude & Vector</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        
        .header {
            text-align: center;
            color: white;
            margin-bottom: 30px;
            animation: fadeIn 0.5s ease-in;
        }
        
        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
        }
        
        .header p {
            font-size: 1.2em;
            opacity: 0.95;
        }
        
        .diagram-container {
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            padding: 40px;
            max-width: 1400px;
            width: 100%;
            animation: slideUp 0.6s ease-out;
        }
        
        svg {
            width: 100%;
            height: auto;
        }
        
        .flow-box {
            fill: white;
            stroke-width: 2;
            filter: drop-shadow(0 4px 8px rgba(0,0,0,0.1));
            transition: all 0.3s ease;
        }
        
        .flow-box:hover {
            filter: drop-shadow(0 8px 16px rgba(0,0,0,0.2));
        }
        
        .azure-box { stroke: #0078d4; }
        .ai-box { stroke: #7c3aed; }
        .k8s-box { stroke: #326ce5; }
        .alert-box { stroke: #ea580c; }
        .storage-box { stroke: #059669; }
        .decision-box { stroke: #dc2626; }
        .vector-box { stroke: #f59e0b; }
        
        .flow-text {
            font-family: 'Segoe UI', sans-serif;
            font-size: 14px;
            fill: #1f2937;
            text-anchor: middle;
            pointer-events: none;
        }
        
        .title-text {
            font-weight: 600;
            font-size: 16px;
        }
        
        .detail-text {
            font-size: 12px;
            fill: #6b7280;
        }
        
        .arrow {
            stroke: #6b7280;
            stroke-width: 2;
            fill: none;
            marker-end: url(#arrowhead);
        }
        
        .arrow-label {
            font-size: 11px;
            fill: #7c3aed;
            font-weight: 500;
        }
        
        .phase-label {
            font-size: 18px;
            font-weight: bold;
            fill: #1f2937;
        }
        
        .icon {
            font-size: 24px;
        }
        
        .metrics-section {
            margin-top: 30px;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
        }
        
        .metric-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            border-radius: 12px;
            text-align: center;
            animation: fadeIn 0.8s ease-in;
        }
        
        .metric-value {
            font-size: 2em;
            font-weight: bold;
            margin-bottom: 5px;
        }
        
        .metric-label {
            font-size: 0.9em;
            opacity: 0.9;
        }
        
        .legend {
            margin-top: 30px;
            padding: 20px;
            background: #f9fafb;
            border-radius: 12px;
            display: flex;
            justify-content: space-around;
            flex-wrap: wrap;
            gap: 15px;
        }
        
        .legend-item {
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .legend-box {
            width: 20px;
            height: 20px;
            border: 2px solid;
            border-radius: 4px;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        @keyframes slideUp {
            from { 
                opacity: 0;
                transform: translateY(20px);
            }
            to { 
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }
        
        .animated-flow {
            animation: pulse 2s infinite;
        }
        
        .vector-flow {
            stroke: #f59e0b;
            stroke-width: 3;
            stroke-dasharray: 10,5;
            animation: flow 2s linear infinite;
        }
        
        @keyframes flow {
            to {
                stroke-dashoffset: -15;
            }
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>ü§ñ AKS AI-Powered Monitoring with Claude</h1>
        <p>Intelligent Log Analysis & Automated Remediation System</p>
    </div>
    
    <div class="diagram-container">
        <svg viewBox="0 0 1200 1500" xmlns="http://www.w3.org/2000/svg">
            <!-- Define arrow marker -->
            <defs>
                <marker id="arrowhead" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
                    <polygon points="0 0, 10 3, 0 6" fill="#6b7280"/>
                </marker>
                <linearGradient id="aiGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                    <stop offset="0%" style="stop-color:#7c3aed;stop-opacity:0.1" />
                    <stop offset="100%" style="stop-color:#7c3aed;stop-opacity:0.2" />
                </linearGradient>
                <linearGradient id="vectorGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                    <stop offset="0%" style="stop-color:#f59e0b;stop-opacity:0.1" />
                    <stop offset="100%" style="stop-color:#f59e0b;stop-opacity:0.2" />
                </linearGradient>
            </defs>
            
            <!-- Current State Label -->
            <rect x="50" y="10" width="150" height="30" rx="5" fill="#10b981"/>
            <text x="125" y="30" class="flow-text" fill="white" font-weight="bold">CURRENT STATE</text>
            
            <!-- Phase 1: Existing Data Collection -->
            <text x="100" y="70" class="phase-label">PHASE 1: Existing Log Pipeline (Already in Place)</text>
            
            <!-- AKS Cluster -->
            <rect x="50" y="100" width="180" height="100" rx="10" class="flow-box k8s-box"/>
            <text x="140" y="130" class="flow-text">
                <tspan class="icon">‚ò∏Ô∏è</tspan>
            </text>
            <text x="140" y="155" class="flow-text title-text">AKS Cluster</text>
            <text x="140" y="175" class="flow-text detail-text">‚Ä¢ Pods/Containers</text>
            <text x="140" y="190" class="flow-text detail-text">‚Ä¢ Application Logs</text>
            
            <!-- Vector -->
            <rect x="300" y="100" width="200" height="100" rx="10" class="flow-box vector-box" fill="url(#vectorGradient)"/>
            <text x="400" y="130" class="flow-text">
                <tspan class="icon">üöÄ</tspan>
            </text>
            <text x="400" y="155" class="flow-text title-text">Vector (Installed)</text>
            <text x="400" y="175" class="flow-text detail-text">‚Ä¢ DaemonSet on AKS</text>
            <text x="400" y="190" class="flow-text detail-text">‚Ä¢ Log aggregation</text>
            
            <!-- Storage Account -->
            <rect x="570" y="100" width="180" height="100" rx="10" class="flow-box storage-box"/>
            <text x="660" y="130" class="flow-text">
                <tspan class="icon">üíæ</tspan>
            </text>
            <text x="660" y="155" class="flow-text title-text">Storage Account</text>
            <text x="660" y="175" class="flow-text detail-text">‚Ä¢ Blob Storage</text>
            <text x="660" y="190" class="flow-text detail-text">‚Ä¢ 5-min batches</text>
            
            <!-- Arrows Phase 1 -->
            <path d="M 230 150 L 300 150" class="vector-flow"/>
            <text x="265" y="140" class="arrow-label">Collect</text>
            
            <path d="M 500 150 L 570 150" class="vector-flow"/>
            <text x="535" y="140" class="arrow-label">Push</text>
            
            <!-- New Addition Label -->
            <rect x="50" y="240" width="150" height="30" rx="5" fill="#7c3aed"/>
            <text x="125" y="260" class="flow-text" fill="white" font-weight="bold">NEW ADDITION</text>
            
            <!-- Phase 2: AI Integration -->
            <text x="100" y="300" class="phase-label">PHASE 2: AI-Powered Analysis Layer</text>
            
            <!-- Logic Apps -->
            <rect x="300" y="330" width="200" height="120" rx="10" class="flow-box azure-box"/>
            <text x="400" y="360" class="flow-text">
                <tspan class="icon">‚ö°</tspan>
            </text>
            <text x="400" y="385" class="flow-text title-text">Azure Logic Apps</text>
            <text x="400" y="405" class="flow-text detail-text">‚Ä¢ Timer: 5 min</text>
            <text x="400" y="425" class="flow-text detail-text">‚Ä¢ Read from blob</text>
            <text x="400" y="445" class="flow-text detail-text">‚Ä¢ Orchestrate AI calls</text>
            
            <!-- Function App Alternative -->
            <rect x="570" y="330" width="180" height="120" rx="10" class="flow-box azure-box" stroke-dasharray="5,5"/>
            <text x="660" y="360" class="flow-text">
                <tspan class="icon">‚öôÔ∏è</tspan>
            </text>
            <text x="660" y="385" class="flow-text title-text">OR Function App</text>
            <text x="660" y="405" class="flow-text detail-text">‚Ä¢ Python/Node.js</text>
            <text x="660" y="425" class="flow-text detail-text">‚Ä¢ Blob trigger</text>
            <text x="660" y="445" class="flow-text detail-text">‚Ä¢ More control</text>
            
            <!-- Arrow from Storage to Logic Apps -->
            <path d="M 660 200 L 660 250 L 400 250 L 400 330" class="arrow"/>
            <text x="530" y="240" class="arrow-label">Trigger on new logs</text>
            
            <!-- Phase 3: AI Analysis -->
            <text x="100" y="500" class="phase-label">PHASE 3: Claude AI Analysis</text>
            
            <!-- Claude AI Box with Ignore Feature -->
            <rect x="250" y="530" width="280" height="160" rx="10" class="flow-box ai-box" fill="url(#aiGradient)"/>
            <text x="390" y="560" class="flow-text">
                <tspan class="icon">üß†</tspan>
            </text>
            <text x="390" y="590" class="flow-text title-text">Claude AI (Anthropic)</text>
            <text x="390" y="615" class="flow-text detail-text">‚Ä¢ Pattern Recognition</text>
            <text x="390" y="635" class="flow-text detail-text">‚Ä¢ Error Classification</text>
            <text x="390" y="655" class="flow-text detail-text">‚Ä¢ FALSE POSITIVE Filter</text>
            <text x="390" y="675" class="flow-text detail-text">‚Ä¢ Severity Assessment</text>
            <text x="390" y="690" class="flow-text detail-text">‚Ä¢ Root Cause Analysis</text>
            
            <!-- Vector Log Format Box -->
            <rect x="600" y="530" width="200" height="150" rx="10" class="flow-box vector-box"/>
            <text x="700" y="560" class="flow-text title-text">Vector Log Format</text>
            <text x="700" y="585" class="flow-text detail-text">‚Ä¢ JSON structured</text>
            <text x="700" y="605" class="flow-text detail-text">‚Ä¢ Timestamps</text>
            <text x="700" y="625" class="flow-text detail-text">‚Ä¢ Pod metadata</text>
            <text x="700" y="645" class="flow-text detail-text">‚Ä¢ Namespace info</text>
            <text x="700" y="665" class="flow-text detail-text">‚Ä¢ Container logs</text>
            
            <!-- Arrow to Claude -->
            <path d="M 400 450 L 400 530" class="arrow animated-flow"/>
            <text x="350" y="490" class="arrow-label">Send Logs</text>
            
            <!-- Arrow from Vector Format to Claude -->
            <path d="M 600 605 L 530 605" class="arrow"/>
            
            <!-- Phase 4: Decision Making -->
            <text x="100" y="730" class="phase-label">PHASE 4: Intelligent Decision & Action</text>
            
            <!-- Decision Diamond -->
            <g transform="translate(400, 810)">
                <path d="M 0 -50 L 50 0 L 0 50 L -50 0 Z" class="flow-box decision-box"/>
                <text x="0" y="-5" class="flow-text title-text">AI Decision</text>
                <text x="0" y="15" class="flow-text detail-text" font-size="10">+ Ignore Filter</text>
            </g>
            
            <!-- Arrow from Claude to Decision -->
            <path d="M 390 680 L 390 760" class="arrow"/>
            <text x="420" y="720" class="arrow-label">JSON Response</text>
            
            <!-- Action Boxes -->
            <!-- Ignore Box -->
            <rect x="50" y="910" width="140" height="100" rx="10" class="flow-box" stroke="#94a3b8"/>
            <text x="120" y="940" class="flow-text">
                <tspan class="icon">üö´</tspan>
            </text>
            <text x="120" y="965" class="flow-text title-text">Ignore</text>
            <text x="120" y="985" class="flow-text detail-text">Known false</text>
            <text x="120" y="1000" class="flow-text detail-text">positives</text>
            
            <!-- Restart Pod -->
            <rect x="210" y="910" width="140" height="100" rx="10" class="flow-box k8s-box"/>
            <text x="280" y="940" class="flow-text">
                <tspan class="icon">üîÑ</tspan>
            </text>
            <text x="280" y="965" class="flow-text title-text">Auto-Restart</text>
            <text x="280" y="985" class="flow-text detail-text">kubectl rollout</text>
            <text x="280" y="1000" class="flow-text detail-text">+ Alert team</text>
            
            <!-- Alert Only -->
            <rect x="370" y="910" width="140" height="100" rx="10" class="flow-box alert-box"/>
            <text x="440" y="940" class="flow-text">
                <tspan class="icon">‚ö†Ô∏è</tspan>
            </text>
            <text x="440" y="965" class="flow-text title-text">Alert Only</text>
            <text x="440" y="985" class="flow-text detail-text">Teams notify</text>
            <text x="440" y="1000" class="flow-text detail-text">Manual review</text>
            
            <!-- Monitor -->
            <rect x="530" y="910" width="140" height="100" rx="10" class="flow-box storage-box"/>
            <text x="600" y="940" class="flow-text">
                <tspan class="icon">üìä</tspan>
            </text>
            <text x="600" y="965" class="flow-text title-text">Log & Track</text>
            <text x="600" y="985" class="flow-text detail-text">App Insights</text>
            <text x="600" y="1000" class="flow-text detail-text">Trend analysis</text>
            
            <!-- Decision Arrows -->
            <path d="M 350 810 L 120 810 L 120 910" class="arrow"/>
            <text x="180" y="800" class="arrow-label">Ignore</text>
            
            <path d="M 370 840 L 280 840 L 280 910" class="arrow"/>
            <text x="300" y="830" class="arrow-label">Critical (4-5)</text>
            
            <path d="M 400 860 L 440 860 L 440 910" class="arrow"/>
            <text x="420" y="850" class="arrow-label">High (3)</text>
            
            <path d="M 450 810 L 600 810 L 600 910" class="arrow"/>
            <text x="520" y="800" class="arrow-label">Low (1-2)</text>
            
            <!-- Phase 5: Notification -->
            <text x="100" y="1060" class="phase-label">PHASE 5: Team Notification & Learning</text>
            
            <!-- Teams Alert -->
            <rect x="200" y="1090" width="200" height="110" rx="10" class="flow-box alert-box"/>
            <text x="300" y="1120" class="flow-text">
                <tspan class="icon">üí¨</tspan>
            </text>
            <text x="300" y="1145" class="flow-text title-text">Microsoft Teams</text>
            <text x="300" y="1165" class="flow-text detail-text">‚Ä¢ Smart alerts</text>
            <text x="300" y="1185" class="flow-text detail-text">‚Ä¢ Action summary</text>
            
            <!-- Application Insights -->
            <rect x="450" y="1090" width="200" height="110" rx="10" class="flow-box azure-box"/>
            <text x="550" y="1120" class="flow-text">
                <tspan class="icon">üìà</tspan>
            </text>
            <text x="550" y="1145" class="flow-text title-text">Application Insights</text>
            <text x="550" y="1165" class="flow-text detail-text">‚Ä¢ Success metrics</text>
            <text x="550" y="1185" class="flow-text detail-text">‚Ä¢ Pattern learning</text>
            
            <!-- Arrows to notification -->
            <path d="M 120 1010 L 120 1050 L 300 1050 L 300 1090" class="arrow" stroke-dasharray="3,3" opacity="0.5"/>
            <path d="M 280 1010 L 280 1050 L 300 1050 L 300 1090" class="arrow"/>
            <path d="M 440 1010 L 440 1050 L 440 1090" class="arrow"/>
            <path d="M 600 1010 L 600 1050 L 550 1050 L 550 1090" class="arrow"/>
            
            <!-- Feedback Loop -->
            <path d="M 650 1145 L 850 1145 L 850 605 L 800 605" class="arrow" stroke-dasharray="5,5"/>
            <text x="860" y="875" class="arrow-label" transform="rotate(90 860 875)">Learning Loop</text>
            
            <!-- Implementation Steps Box -->
            <rect x="900" y="100" width="260" height="200" rx="10" class="flow-box" stroke="#10b981"/>
            <text x="1030" y="130" class="flow-text title-text">‚úÖ Quick Implementation</text>
            <text x="1030" y="155" class="flow-text detail-text">1. Create Logic App/Function</text>
            <text x="1030" y="175" class="flow-text detail-text">2. Configure blob trigger</text>
            <text x="1030" y="195" class="flow-text detail-text">3. Get Claude API key</text>
            <text x="1030" y="215" class="flow-text detail-text">4. Setup Teams webhook</text>
            <text x="1030" y="235" class="flow-text detail-text">5. Grant K8s permissions</text>
            <text x="1030" y="255" class="flow-text detail-text">6. Test with sample logs</text>
            <text x="1030" y="275" class="flow-text detail-text">‚è±Ô∏è Total setup: ~2 hours</text>
            
            <!-- Ignore List Configuration Box -->
            <rect x="900" y="320" width="260" height="180" rx="10" class="flow-box" stroke="#94a3b8"/>
            <text x="1030" y="350" class="flow-text title-text">üö´ Ignore List Config</text>
            <text x="1030" y="375" class="flow-text detail-text">Known False Positives:</text>
            <text x="1030" y="395" class="flow-text detail-text">‚Ä¢ "connection reset by peer"</text>
            <text x="1030" y="415" class="flow-text detail-text">‚Ä¢ Health check timeouts</text>
            <text x="1030" y="435" class="flow-text detail-text">‚Ä¢ Graceful shutdown logs</text>
            <text x="1030" y="455" class="flow-text detail-text">‚Ä¢ Expected 404 errors</text>
            <text x="1030" y="475" class="flow-text detail-text">‚Ä¢ Debug/trace messages</text>
            <text x="1030" y="495" class="flow-text detail-text">‚úì AI learns patterns over time</text>
            
            <!-- AI Capabilities Box -->
            <rect x="900" y="520" width="260" height="200" rx="10" class="flow-box ai-box"/>
            <text x="1030" y="550" class="flow-text title-text">üß† Claude Analysis</text>
            <text x="1030" y="575" class="flow-text detail-text">‚Ä¢ OOMKilled detection</text>
            <text x="1030" y="595" class="flow-text detail-text">‚Ä¢ CrashLoopBackOff</text>
            <text x="1030" y="615" class="flow-text detail-text">‚Ä¢ Connection failures</text>
            <text x="1030" y="635" class="flow-text detail-text">‚Ä¢ Resource exhaustion</text>
            <text x="1030" y="655" class="flow-text detail-text">‚Ä¢ Pattern correlation</text>
            <text x="1030" y="675" class="flow-text detail-text">‚Ä¢ FALSE POSITIVE filtering</text>
            <text x="1030" y="695" class="flow-text detail-text">‚Ä¢ Known error ignore list</text>
            
            <!-- Cost Box -->
            <rect x="900" y="730" width="260" height="140" rx="10" class="flow-box" stroke="#10b981"/>
            <text x="1030" y="760" class="flow-text title-text">üí∞ Monthly Costs</text>
            <text x="1030" y="785" class="flow-text detail-text">Vector: $0 (already running)</text>
            <text x="1030" y="805" class="flow-text detail-text">Storage: $5 (existing)</text>
            <text x="1030" y="825" class="flow-text detail-text">Logic Apps: ~$1</text>
            <text x="1030" y="845" class="flow-text detail-text">Claude API: $50-100</text>
            <text x="1030" y="865" class="flow-text detail-text" font-weight="bold">Total New Cost: ~$100/mo</text>
            
            <!-- ROI Box -->
            <rect x="900" y="900" width="260" height="140" rx="10" class="flow-box" stroke="#8b5cf6"/>
            <text x="1030" y="930" class="flow-text title-text">üìä Expected ROI</text>
            <text x="1030" y="955" class="flow-text detail-text">‚Ä¢ 70% fewer incidents</text>
            <text x="1030" y="975" class="flow-text detail-text">‚Ä¢ 80% less manual work</text>
            <text x="1030" y="995" class="flow-text detail-text">‚Ä¢ 5 min MTTD</text>
            <text x="1030" y="1015" class="flow-text detail-text">‚Ä¢ 24/7 coverage</text>
            <text x="1030" y="1035" class="flow-text detail-text">‚Ä¢ ROI: 10x in 3 months</text>
            
            <!-- Bottom Success Dashboard -->
            <rect x="50" y="1250" width="820" height="120" rx="10" class="flow-box" stroke="#059669" fill="#f0fdf4"/>
            <text x="460" y="1280" class="flow-text title-text">üéØ What You Already Have vs What You Need</text>
            <text x="150" y="1310" class="flow-text detail-text" font-weight="bold">‚úÖ Already Have:</text>
            <text x="150" y="1330" class="flow-text detail-text">‚Ä¢ AKS cluster running</text>
            <text x="150" y="1350" class="flow-text detail-text">‚Ä¢ Vector collecting logs</text>
            <text x="350" y="1330" class="flow-text detail-text">‚Ä¢ Storage account</text>
            <text x="350" y="1350" class="flow-text detail-text">‚Ä¢ 5-min log batches</text>
            
            <text x="550" y="1310" class="flow-text detail-text" font-weight="bold">üìù Need to Add:</text>
            <text x="550" y="1330" class="flow-text detail-text">‚Ä¢ Logic App/Function</text>
            <text x="550" y="1350" class="flow-text detail-text">‚Ä¢ Claude API access</text>
            <text x="750" y="1330" class="flow-text detail-text">‚Ä¢ Teams webhook</text>
            <text x="750" y="1350" class="flow-text detail-text">‚Ä¢ K8s permissions</text>
        </svg>
        
        <div class="legend">
            <div class="legend-item">
                <div class="legend-box" style="border-color: #f59e0b; background: rgba(245, 158, 11, 0.1);"></div>
                <span>Vector (Existing)</span>
            </div>
            <div class="legend-item">
                <div class="legend-box" style="border-color: #0078d4;"></div>
                <span>Azure Services</span>
            </div>
            <div class="legend-item">
                <div class="legend-box" style="border-color: #7c3aed; background: rgba(124, 58, 237, 0.1);"></div>
                <span>Claude AI</span>
            </div>
            <div class="legend-item">
                <div class="legend-box" style="border-color: #326ce5;"></div>
                <span>Kubernetes</span>
            </div>
            <div class="legend-item">
                <div class="legend-box" style="border-color: #ea580c;"></div>
                <span>Alerts</span>
            </div>
            <div class="legend-item">
                <div class="legend-box" style="border-color: #059669;"></div>
                <span>Storage/Monitor</span>
            </div>
        </div>
        
        <div class="metrics-section">
            <div class="metric-card">
                <div class="metric-value">2 hrs</div>
                <div class="metric-label">Setup Time</div>
            </div>
            <div class="metric-card">
                <div class="metric-value">$100</div>
                <div class="metric-label">New Monthly Cost</div>
            </div>
            <div class="metric-card">
                <div class="metric-value">70%</div>
                <div class="metric-label">Automation Rate</div>
            </div>
            <div class="metric-card">
                <div class="metric-value">10x</div>
                <div class="metric-label">ROI in 3 Months</div>
            </div>
        </div>
    </div>
</body>
</html>
